# Контрольная работа 2 Сибирев Арсений УИБО-04-24
# Задание 1
<img width="2551" height="1258" alt="image" src="https://github.com/user-attachments/assets/65e4b1fe-830d-42dd-acd3-a44655d1a709" />
Данные, которые были использованы для входа: {email: " ' or 1=1;--", password: " "} Под ними и удалось войти
Скорее всего в БД реализован следующий запрос:
SELECT * 
FROM Users 
WHERE email = '<введённый email>' 
  AND password = '<введённый пароль>';
и после подстановки ' or 1=1;-- получается :
SELECT * 
FROM Users 
WHERE email = '' OR 1=1;--' 
AND password = 'что_угодно'
OR 1=1 делает условие всегда истинным – база вернёт все строки из таблицы Users.
-- начинает комментарий в SQL, поэтому всё после -- (включая ' AND password = ...) игнорируется
В OWASP Juice Shop аутентификация построена на JWT-токенах (JSON Web Token). Каждая часть — это base64url-кодированный JSON. 
В Juice Shop аутентификационный JWT кладётся в cookie с именем token и часто дублируется в заголовке Authorization: Bearer <jwt> при запросах к REST-API (zacheller@home:~/blog$)
После логина браузер автоматически отправляет cookie token=<JWT> со всеми запросами к домену juice-shop.herokuapp.com.
# Вопросы к заданию 1
1. SQL-инъекция — это уязвимость, при которой данные, введённые пользователем (в форму логина, поиска и т.п.), попадают прямо внутрь SQL-запроса как часть кода, а не как значение
2. 1=1 — это всегда истина, значит условие WHERE всегда истинно для каждой строки. Запрос возвращает всех пользователей. -- это начало комментария в SQL . Всё, что идёт после --, считается комментарием и игнорируется. --' AND password = 'что_угодно'. т.е проверка пароля вообще не выполняется
3. Данные пользователя никогда не должны превращаться в код SQL, использовать параметризованные запросы, валидация и фильтрация ввода
# Задание 2
<img width="1308" height="914" alt="image" src="https://github.com/user-attachments/assets/5c9bc0cf-3590-43db-8027-0017f9cf314e" />
<img width="1574" height="539" alt="image" src="https://github.com/user-attachments/assets/fdaaf068-e682-4edc-a149-cf6427831426" />
 логин username;
 хэш пароля 0192023a7bbd73250516f069df18b500;
 пароль admin123;
1. Cookie — это хранилище небольших данных (например, JWT-токена), которые браузер автоматически отправляет сайту
2. Чтобы устранить уязвимость:
не хранить пароль/хеш в токене,
использовать сильное хеширование паролей (bcrypt/Argon2 и др.),
правильно настроить cookie (HttpOnly, Secure, SameSite, короткий срок жизни)
# Задание 3
1. Параметр bid — Basket ID
2. нельзя доверять bid со стороны клиента; всегда проверять владельца корзины на сервере; для всех операций с корзиной (просмотр, добавление, удаление товаров) делать проверку прав на сервере
# Задание 4
<img width="1555" height="232" alt="image" src="https://github.com/user-attachments/assets/01620605-97ff-454b-b4f1-cad89a859983" />
<iframe src="javascript:alert(`xss`)">
